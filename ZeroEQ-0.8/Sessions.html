<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>ZeroEQ: Sessions filtering and management port</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ZeroEQ
   &#160;<span id="projectnumber">0.8.0</span>
   </div>
   <div id="projectbrief">ZeroEQ - Zero Event Queue</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('Sessions.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Sessions filtering and management port </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1>Motivation</h1>
<p>Before this document, only publishers were discoverable via ZeroConf, and the announced information was weak for filtering for supported events and any other semantics. Also, subscribers always subscribed automatically to every discovered publisher which used the same schema.</p>
<p>To overcome already applied workarounds and missing features for filtering, application-compatible subscriptions and user-controllable subscriptions, this document describes necessary changes to ZeroEQ.</p>
<p>Use-cases are coupling of applications that belong to a certain user/session, not coupling all applications on the same network. User-interfaces for selection of applications that should connect to each other need more information for the user and for the system to perform filtering.</p>
<h1>Overview of changes</h1>
<ul>
<li>Introduction of Session: only publishers of the same session and compatible events are automatically subscribed in the subscriber. The default session name is the current username. It can be set to a different value at runtime with the ZEROEQ_SESSION environment variable. If the session name is empty/non-existant, no filtering is performed and automatic subscription to all discovered publishers happens.</li>
<li>Schemas in URIs are superseded by the session; user-specified schemas are ignored. Filtering is now done via sessions and compatible events. As a future use-case, the schema might control the transport for zmq (tcp, inproc, ...)</li>
<li>The ZeroConf record contains information about published/subscribed events, application name (derived automatically), username and session.</li>
<li>Vocabulary stores event type information from an associated publisher or subscriber. The vocabulary information can be requested (this class implements request-reply using the REQ-REP socket from zmq). One vocabulary is associated with exactly one publisher or with one subscriber.</li>
<li>Broker can handle explicit (un)subscriptions instructed by a remote application.</li>
</ul>
<h1>Changes for Publisher</h1>
<ul>
<li>ZeroConf/Servus service name is _zeroeq_pub._tcp</li>
<li>Schema is fixed, internal and ignored if specified</li>
<li>URI can contain hostname and port</li>
<li>ZeroConf announcement:<ul>
<li>Instance name is hostname:port</li>
<li>txt record:<ul>
<li>vocabulary_request = zmq connection string</li>
<li>vocabulary = semi-colon separated list of published event UUIDs</li>
<li>session = &lt;user-name&gt; by default, env ZEROEQ_SESSION if specified</li>
<li>user = &lt;user-name&gt;</li>
<li>application = &lt;application-name&gt;</li>
</ul>
</li>
</ul>
</li>
<li>Published events must be registered in the publisher. Non-registered events cannot be published. (TBD: Published events are auto-registered).</li>
<li>Add (un)registerEvent()</li>
</ul>
<h1>Changes for Subscriber</h1>
<ul>
<li>ZeroConf/Servus service name is _zeroeq_sub._tcp</li>
<li>Schema is fixed, internal and ignored if specified</li>
<li>URI can contain hostname and port</li>
<li>Automatic subscription only via session (default session is username), otherwise explicit subscription via Broker.</li>
<li>ZeroConf announcement:<ul>
<li>Instance name is a UUID to uniquely identify this subscriber</li>
<li>txt record:<ul>
<li>vocabulary_request = zmq connection string</li>
<li>vocabulary = semi-colon separated list of published event UUIDs</li>
<li>session = &lt;user-name&gt; by default, env ZEROEQ_SESSION if specified</li>
<li>user = &lt;user-name&gt;</li>
<li>application = &lt;application-name&gt;</li>
</ul>
</li>
</ul>
</li>
<li>Event registration for vocabulary happens in registerHandler/subscribe</li>
</ul>
<h1>Changes for Broker/Management port</h1>
<ul>
<li>Supports subscribe/unsubscribe requests for any remote application<ul>
<li>Tell application to subscribe to an event of a publisher</li>
</ul>
</li>
<li>List of current subscriptions (for NodeGraph UI for instance)</li>
</ul>
<h1>New class Vocabulary</h1>
<ul>
<li>Provides a request-reply for vocabulary information</li>
<li>Holds registered events from a publisher or subscriber </li>
</ul>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="rfcs.html">RFCs</a></li>
    <li class="footer">Generated on Fri Mar 10 2017 01:36:52 for ZeroEQ by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
